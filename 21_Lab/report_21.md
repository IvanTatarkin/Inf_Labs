# Отчет по лабораторной работе № 21
## по курсу "Фундаментальная информатика"

Студент группы М80-108Б-23 Татаркин Иван Владимирович

Работа выполнена 

Преподаватель: каф. 806 Севастьянов Виктор Сергеевич

1. **Тема**: Программирование на интерпретируемых командных языках.
2. **Цель работы**: Составить программу на языке bash, выполняющую указанное действие.
3. **Задание**:
- Удаление всех синонимов указанного файла из указанного каталога и его поддиректорий.
4. **Идея, метод, алгоритм решения задачи**: 
- Будем использовать хеш-функции для определения синонимичности файлов.
5. **Сценарий выполнения работы**: 
- Если хеш-функция очередного файла совпадает с хеш-суммой исходного файла, то удаляем исходный файл.
- Рекурсивно перебираем все файлы в указанной директории.
6. **Протокол**:
```
#!/bin/bash

if [[ "$1" == "?" ]]; then
	echo "1 parametr - /path/to/file";
	echo "2 parametr - /path/to/directory";
fi;

reference_file="$1"
target_directory="$2"
# Получаем хэш указанного файла
reference_hash=$(md5sum "$reference_file" | awk '{print $1}')

# Обходим все файлы в указанной директории
#for file in "$target_directory"/*; do
find "$target_directory" -type f | while read file; do
    # Проверяем, является ли текущий файл обрабатываемым файлом
    if [ -f "$file" ]; then
        # Получаем хэш текущего файла
        file_hash=$(md5sum "$file" | awk '{print $1}')
        #echo $file_hash
        # Сравниваем хэши
        if [ "$file_hash" = "$reference_hash" ]; then
            if [ -f "$file" ] && [ "$file" != "$reference_file" ]; then
            	echo "$file"
            	echo "$reference_file"
            	echo "Deleting $file"
            	rm "$file"
            fi
        fi
    fi
done

```
7. **Замечания автора** : -
8. **Выводы**: В работе с bash мне понравилась возможность использовать различные функции и команды. Полученные знания пригодятся мне при работе с более сложными задачами на bash.
